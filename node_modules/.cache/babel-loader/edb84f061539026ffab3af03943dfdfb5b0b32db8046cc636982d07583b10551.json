{"ast":null,"code":"// src/components/CoffeeList.js\nimport React,{useState,useEffect}from\"react\";import{Link}from\"react-router-dom\";import{CoffeeAPIService}from\"../apiService\";import bakedImage from'../assets/excelso1.png';import Footer from\"./Footer\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CoffeeList=()=>{const[coffeeBeans,setCoffeeBeans]=useState([]);const[searchTerm,setSearchTerm]=useState(\"\");useEffect(()=>{async function fetchData(){if(typeof caches!==\"undefined\"){try{const cache=await caches.open(\"coffee-cache\");const cachedData=await cache.match(\"/api/coffee\");if(cachedData){const cachedJson=await cachedData.json();setCoffeeBeans(cachedJson);return;}const beans=await CoffeeAPIService.fetchCoffeeBeans();setCoffeeBeans(beans);const response=new Response(JSON.stringify(beans));await cache.put(\"/api/coffee\",response);}catch(error){console.error(\"Caching error:\",error);// Fallback to fetch data directly if caching fails\nconst beans=await CoffeeAPIService.fetchCoffeeBeans();setCoffeeBeans(beans);}}else{// Fetch data directly if `caches` is unavailable\nconst beans=await CoffeeAPIService.fetchCoffeeBeans();setCoffeeBeans(beans);}}fetchData();},[]);const groupByRegion=beans=>{return beans.reduce((groups,coffee)=>{const region=coffee.region||\"Unknown\";if(!groups[region]){groups[region]=[];}groups[region].push(coffee);return groups;},{});};const filteredCoffeeBeans=coffeeBeans.filter(coffee=>coffee.name.toLowerCase().includes(searchTerm.toLowerCase()));const groupedCoffeeBeans=groupByRegion(filteredCoffeeBeans);return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col min-h-screen\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-grow max-w-full mx-0 p-0\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-full\",children:/*#__PURE__*/_jsx(\"img\",{src:bakedImage,alt:\"Baked Coffee\",className:\"w-full h-auto mb-5 md:h-64 lg:h-80 object-cover\"})}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-medium mb-4 font-permanent-marker text-center\",children:\"Coffee Beans Menu\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search by name...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),className:\"p-2 border border-gray-300 rounded mb-4 w-full max-w-xs\"})}),Object.keys(groupedCoffeeBeans).map(region=>/*#__PURE__*/_jsxs(\"div\",{className:\"mb-8\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-medium mb-2 font-permanent-marker\",children:region}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4\",children:groupedCoffeeBeans[region].map(coffee=>/*#__PURE__*/_jsxs(Link,{to:`/coffee/${coffee.id}`,className:\"block p-4 border border-gray-300 rounded hover:shadow-lg transition-shadow duration-200\",children:[/*#__PURE__*/_jsx(\"img\",{src:coffee.image_url,alt:coffee.name,className:\"w-40 h-40 object-cover rounded-lg mb-2\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium font-permanent-marker\",children:coffee.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600\",children:[\"$\",coffee.price.toFixed(2)]})]},coffee.id))})]},region))]}),/*#__PURE__*/_jsx(Footer,{})]});};export default CoffeeList;","map":{"version":3,"names":["React","useState","useEffect","Link","CoffeeAPIService","bakedImage","Footer","jsx","_jsx","jsxs","_jsxs","CoffeeList","coffeeBeans","setCoffeeBeans","searchTerm","setSearchTerm","fetchData","caches","cache","open","cachedData","match","cachedJson","json","beans","fetchCoffeeBeans","response","Response","JSON","stringify","put","error","console","groupByRegion","reduce","groups","coffee","region","push","filteredCoffeeBeans","filter","name","toLowerCase","includes","groupedCoffeeBeans","className","children","src","alt","type","placeholder","value","onChange","e","target","Object","keys","map","to","id","image_url","price","toFixed"],"sources":["C:/Users/ACER/coffee-beans-app/src/component/CoffeeList.js"],"sourcesContent":["// src/components/CoffeeList.js\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { CoffeeAPIService } from \"../apiService\";\r\nimport bakedImage from '../assets/excelso1.png';\r\nimport Footer from \"./Footer\";\r\n\r\nconst CoffeeList = () => {\r\n  const [coffeeBeans, setCoffeeBeans] = useState([]);\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      if (typeof caches !== \"undefined\") {\r\n        try {\r\n          const cache = await caches.open(\"coffee-cache\");\r\n          const cachedData = await cache.match(\"/api/coffee\");\r\n\r\n          if (cachedData) {\r\n            const cachedJson = await cachedData.json();\r\n            setCoffeeBeans(cachedJson);\r\n            return;\r\n          }\r\n\r\n          const beans = await CoffeeAPIService.fetchCoffeeBeans();\r\n          setCoffeeBeans(beans);\r\n\r\n          const response = new Response(JSON.stringify(beans));\r\n          await cache.put(\"/api/coffee\", response);\r\n        } catch (error) {\r\n          console.error(\"Caching error:\", error);\r\n          // Fallback to fetch data directly if caching fails\r\n          const beans = await CoffeeAPIService.fetchCoffeeBeans();\r\n          setCoffeeBeans(beans);\r\n        }\r\n      } else {\r\n        // Fetch data directly if `caches` is unavailable\r\n        const beans = await CoffeeAPIService.fetchCoffeeBeans();\r\n        setCoffeeBeans(beans);\r\n      }\r\n    }\r\n\r\n    fetchData();\r\n  }, []);\r\n\r\n  const groupByRegion = (beans) => {\r\n    return beans.reduce((groups, coffee) => {\r\n      const region = coffee.region || \"Unknown\";\r\n      if (!groups[region]) {\r\n        groups[region] = [];\r\n      }\r\n      groups[region].push(coffee);\r\n      return groups;\r\n    }, {});\r\n  };\r\n\r\n  const filteredCoffeeBeans = coffeeBeans.filter(coffee =>\r\n    coffee.name.toLowerCase().includes(searchTerm.toLowerCase())\r\n  );\r\n\r\n  const groupedCoffeeBeans = groupByRegion(filteredCoffeeBeans);\r\n\r\n  return (\r\n    <div className=\"flex flex-col min-h-screen\">\r\n      <div className=\"flex-grow max-w-full mx-0 p-0\">\r\n        <div className=\"w-full\">\r\n          <img src={bakedImage} alt=\"Baked Coffee\" className=\"w-full h-auto mb-5 md:h-64 lg:h-80 object-cover\" />\r\n        </div>\r\n        <h1 className=\"text-3xl font-medium mb-4 font-permanent-marker text-center\">Coffee Beans Menu</h1>\r\n        <div className=\"flex justify-center\">\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Search by name...\"\r\n            value={searchTerm}\r\n            onChange={(e) => setSearchTerm(e.target.value)}\r\n            className=\"p-2 border border-gray-300 rounded mb-4 w-full max-w-xs\"\r\n          />\r\n        </div>\r\n\r\n        {Object.keys(groupedCoffeeBeans).map(region => (\r\n          <div key={region} className=\"mb-8\">\r\n            <h2 className=\"text-2xl font-medium mb-2 font-permanent-marker\">{region}</h2>\r\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4\">\r\n              {groupedCoffeeBeans[region].map((coffee) => (\r\n                <Link to={`/coffee/${coffee.id}`} key={coffee.id} className=\"block p-4 border border-gray-300 rounded hover:shadow-lg transition-shadow duration-200\">\r\n                  <img src={coffee.image_url} alt={coffee.name} className=\"w-40 h-40 object-cover rounded-lg mb-2\" />\r\n                  <h3 className=\"text-lg font-medium font-permanent-marker\">{coffee.name}</h3>\r\n                  <p className=\"text-gray-600\">${coffee.price.toFixed(2)}</p>\r\n                </Link>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n      <Footer />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CoffeeList;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}