{"ast":null,"code":"// src/components/CoffeeDetail.js\nimport React,{useEffect,useState}from\"react\";import{useParams,Link}from\"react-router-dom\";import{CoffeeAPIService}from\"../apiService\";import{FaShoppingCart}from\"react-icons/fa\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CoffeeDetail=_ref=>{let{addToCart}=_ref;const{id}=useParams();const[coffee,setCoffee]=useState(null);const[coffeeList,setCoffeeList]=useState([]);const[showNotification,setShowNotification]=useState(false);useEffect(()=>{async function fetchCoffeeDetail(){const beans=await CoffeeAPIService.fetchCoffeeBeans();// Menyimpan data coffee ke localStorage untuk akses offline\nlocalStorage.setItem('coffeeBeans',JSON.stringify(beans));const selectedCoffee=beans.find(coffee=>coffee.id===parseInt(id));setCoffee(selectedCoffee);setCoffeeList(beans);}// Mengecek apakah data tersedia di localStorage\nconst storedBeans=localStorage.getItem('coffeeBeans');if(storedBeans){const beans=JSON.parse(storedBeans);const selectedCoffee=beans.find(coffee=>coffee.id===parseInt(id));setCoffee(selectedCoffee);setCoffeeList(beans);}else{fetchCoffeeDetail();}},[id]);if(!coffee)return/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"});const handleAddToCart=()=>{addToCart(coffee);setShowNotification(true);setTimeout(()=>setShowNotification(false),3000);};const sameRegionCoffees=coffeeList.filter(coffeeItem=>coffeeItem.region===coffee.region&&coffeeItem.id!==coffee.id);return/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 max-w-7xl mx-auto rounded-lg bg-white\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col md:flex-row items-start md:mb-5 gap-4\",children:[/*#__PURE__*/_jsx(\"img\",{src:coffee.image_url,alt:coffee.name,className:\"w-full md:w-1/2 h-64 md:h-96 rounded-lg object-cover\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-full md:w-1/2\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl md:text-2xl font-medium text-gray-800 font-permanent-marker\",children:coffee.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-base md:text-lg text-gray-600 mb-3\",children:coffee.description}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm md:text-base text-gray-700\",children:[\"Region: \",coffee.region]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm md:text-base text-gray-700\",children:[\"Weight: \",coffee.weight,\"g\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm md:text-base text-gray-700\",children:[\"Price: $\",coffee.price]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm md:text-base text-gray-700\",children:[\"Roast Level: \",coffee.roast_level]}),/*#__PURE__*/_jsx(\"h4\",{className:\"mt-4 md:mt-5 text-lg font-semibold text-gray-800\",children:\"Flavor Profile:\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"list-disc list-inside pl-5 text-gray-700 text-sm md:text-base\",children:coffee.flavor_profile.map(flavor=>/*#__PURE__*/_jsx(\"li\",{children:flavor},flavor))}),/*#__PURE__*/_jsx(\"h4\",{className:\"mt-4 md:mt-5 text-lg font-semibold text-gray-800\",children:\"Grind Options:\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"list-disc list-inside pl-5 text-gray-700 text-sm md:text-base\",children:coffee.grind_option.map(option=>/*#__PURE__*/_jsx(\"li\",{children:option},option))}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleAddToCart,className:\"mt-4 flex items-center bg-black text-white px-4 py-2 rounded hover:bg-gray-700 transition duration-300 font-permanent-marker z-50\",children:[/*#__PURE__*/_jsx(FaShoppingCart,{className:\"mr-2\"}),\" Add to Cart\"]})]})]}),showNotification&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed bottom-4 right-4 bg-black text-white p-4 rounded shadow-lg font-permanent-marker\",children:\"Item added to cart!\"}),/*#__PURE__*/_jsx(\"h4\",{className:\"text-xl md:text-2xl font-medium mt-8 md:mt-12 mb-4 text-center font-permanent-marker\",children:\"More Coffees from the Same Region:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap justify-center gap-4\",children:sameRegionCoffees.map(coffeeItem=>/*#__PURE__*/_jsxs(Link,{to:`/coffee/${coffeeItem.id}`,className:\"bg-white border border-gray-300 rounded-lg shadow-md overflow-hidden transition-transform transform hover:scale-105 w-full sm:w-48\",children:[/*#__PURE__*/_jsx(\"img\",{src:coffeeItem.image_url,alt:coffeeItem.name,className:\"w-full h-48 object-cover\"}),/*#__PURE__*/_jsx(\"div\",{className:\"p-4 flex justify-center items-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-center font-medium text-base md:text-lg text-gray-800 font-permanent-marker\",children:coffeeItem.name})})]},coffeeItem.id))})]});};export default CoffeeDetail;","map":{"version":3,"names":["React","useEffect","useState","useParams","Link","CoffeeAPIService","FaShoppingCart","jsx","_jsx","jsxs","_jsxs","CoffeeDetail","_ref","addToCart","id","coffee","setCoffee","coffeeList","setCoffeeList","showNotification","setShowNotification","fetchCoffeeDetail","beans","fetchCoffeeBeans","localStorage","setItem","JSON","stringify","selectedCoffee","find","parseInt","storedBeans","getItem","parse","children","handleAddToCart","setTimeout","sameRegionCoffees","filter","coffeeItem","region","className","src","image_url","alt","name","description","weight","price","roast_level","flavor_profile","map","flavor","grind_option","option","onClick","to"],"sources":["C:/Users/ACER/coffee-beans-app/src/component/CoffeeDetail.js"],"sourcesContent":["// src/components/CoffeeDetail.js\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useParams, Link } from \"react-router-dom\";\r\nimport { CoffeeAPIService } from \"../apiService\";\r\nimport { FaShoppingCart } from \"react-icons/fa\";\r\n\r\nconst CoffeeDetail = ({ addToCart }) => {\r\n  const { id } = useParams();\r\n  const [coffee, setCoffee] = useState(null);\r\n  const [coffeeList, setCoffeeList] = useState([]);\r\n  const [showNotification, setShowNotification] = useState(false);\r\n\r\n  useEffect(() => {\r\n    async function fetchCoffeeDetail() {\r\n      const beans = await CoffeeAPIService.fetchCoffeeBeans();\r\n      // Menyimpan data coffee ke localStorage untuk akses offline\r\n      localStorage.setItem('coffeeBeans', JSON.stringify(beans));\r\n\r\n      const selectedCoffee = beans.find((coffee) => coffee.id === parseInt(id));\r\n      setCoffee(selectedCoffee);\r\n      setCoffeeList(beans);\r\n    }\r\n\r\n    // Mengecek apakah data tersedia di localStorage\r\n    const storedBeans = localStorage.getItem('coffeeBeans');\r\n    if (storedBeans) {\r\n      const beans = JSON.parse(storedBeans);\r\n      const selectedCoffee = beans.find((coffee) => coffee.id === parseInt(id));\r\n      setCoffee(selectedCoffee);\r\n      setCoffeeList(beans);\r\n    } else {\r\n      fetchCoffeeDetail();\r\n    }\r\n  }, [id]);\r\n\r\n  if (!coffee) return <p>Loading...</p>;\r\n\r\n  const handleAddToCart = () => {\r\n    addToCart(coffee);\r\n    setShowNotification(true);\r\n    setTimeout(() => setShowNotification(false), 3000);\r\n  };\r\n\r\n  const sameRegionCoffees = coffeeList.filter(\r\n    (coffeeItem) => coffeeItem.region === coffee.region && coffeeItem.id !== coffee.id\r\n  );\r\n\r\n  return (\r\n    <div className=\"p-4 max-w-7xl mx-auto rounded-lg bg-white\">\r\n      <div className=\"flex flex-col md:flex-row items-start md:mb-5 gap-4\">\r\n        <img\r\n          src={coffee.image_url}\r\n          alt={coffee.name}\r\n          className=\"w-full md:w-1/2 h-64 md:h-96 rounded-lg object-cover\"\r\n        />\r\n        <div className=\"w-full md:w-1/2\">\r\n          <h2 className=\"text-xl md:text-2xl font-medium text-gray-800 font-permanent-marker\">{coffee.name}</h2>\r\n          <p className=\"text-base md:text-lg text-gray-600 mb-3\">{coffee.description}</p>\r\n          <p className=\"text-sm md:text-base text-gray-700\">Region: {coffee.region}</p>\r\n          <p className=\"text-sm md:text-base text-gray-700\">Weight: {coffee.weight}g</p>\r\n          <p className=\"text-sm md:text-base text-gray-700\">Price: ${coffee.price}</p>\r\n          <p className=\"text-sm md:text-base text-gray-700\">Roast Level: {coffee.roast_level}</p>\r\n\r\n          <h4 className=\"mt-4 md:mt-5 text-lg font-semibold text-gray-800\">Flavor Profile:</h4>\r\n          <ul className=\"list-disc list-inside pl-5 text-gray-700 text-sm md:text-base\">\r\n            {coffee.flavor_profile.map((flavor) => (\r\n              <li key={flavor}>{flavor}</li>\r\n            ))}\r\n          </ul>\r\n          <h4 className=\"mt-4 md:mt-5 text-lg font-semibold text-gray-800\">Grind Options:</h4>\r\n          <ul className=\"list-disc list-inside pl-5 text-gray-700 text-sm md:text-base\">\r\n            {coffee.grind_option.map((option) => (\r\n              <li key={option}>{option}</li>\r\n            ))}\r\n          </ul>\r\n\r\n          <button\r\n            onClick={handleAddToCart}\r\n            className=\"mt-4 flex items-center bg-black text-white px-4 py-2 rounded hover:bg-gray-700 transition duration-300 font-permanent-marker z-50\"\r\n          >\r\n            <FaShoppingCart className=\"mr-2\" /> Add to Cart\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {showNotification && (\r\n        <div className=\"fixed bottom-4 right-4 bg-black text-white p-4 rounded shadow-lg font-permanent-marker\">\r\n          Item added to cart!\r\n        </div>\r\n      )}\r\n\r\n      <h4 className=\"text-xl md:text-2xl font-medium mt-8 md:mt-12 mb-4 text-center font-permanent-marker\">\r\n        More Coffees from the Same Region:\r\n      </h4>\r\n\r\n      <div className=\"flex flex-wrap justify-center gap-4\">\r\n        {sameRegionCoffees.map((coffeeItem) => (\r\n          <Link\r\n            key={coffeeItem.id}\r\n            to={`/coffee/${coffeeItem.id}`}\r\n            className=\"bg-white border border-gray-300 rounded-lg shadow-md overflow-hidden transition-transform transform hover:scale-105 w-full sm:w-48\"\r\n          >\r\n            <img\r\n              src={coffeeItem.image_url}\r\n              alt={coffeeItem.name}\r\n              className=\"w-full h-48 object-cover\"\r\n            />\r\n            <div className=\"p-4 flex justify-center items-center\">\r\n              <span className=\"text-center font-medium text-base md:text-lg text-gray-800 font-permanent-marker\">\r\n                {coffeeItem.name}\r\n              </span>\r\n            </div>\r\n          </Link>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CoffeeDetail;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}