{"ast":null,"code":"// src/utils/indexedDB.js\nimport { openDB } from 'idb';\nconst DB_NAME = 'coffeeAppDB';\nconst DB_VERSION = 1;\nconst STORE_NAME = 'coffeeBeans';\nexport async function initDB() {\n  return openDB(DB_NAME, DB_VERSION, {\n    upgrade(db) {\n      if (!db.objectStoreNames.contains(STORE_NAME)) {\n        db.createObjectStore(STORE_NAME, {\n          keyPath: 'id'\n        });\n      }\n    }\n  });\n}\nexport async function saveCoffeeBeans(beans) {\n  const db = await initDB();\n  const tx = db.transaction(STORE_NAME, 'readwrite');\n  await Promise.all(beans.map(bean => tx.store.put(bean)));\n  await tx.done;\n}\nexport async function getCachedCoffeeBeans() {\n  const db = await initDB();\n  return db.getAll(STORE_NAME);\n}","map":{"version":3,"names":["openDB","DB_NAME","DB_VERSION","STORE_NAME","initDB","upgrade","db","objectStoreNames","contains","createObjectStore","keyPath","saveCoffeeBeans","beans","tx","transaction","Promise","all","map","bean","store","put","done","getCachedCoffeeBeans","getAll"],"sources":["C:/Users/ACER/coffee-beans-app/src/utils/indexedDB.js"],"sourcesContent":["// src/utils/indexedDB.js\r\nimport { openDB } from 'idb';\r\n\r\nconst DB_NAME = 'coffeeAppDB';\r\nconst DB_VERSION = 1;\r\nconst STORE_NAME = 'coffeeBeans';\r\n\r\nexport async function initDB() {\r\n  return openDB(DB_NAME, DB_VERSION, {\r\n    upgrade(db) {\r\n      if (!db.objectStoreNames.contains(STORE_NAME)) {\r\n        db.createObjectStore(STORE_NAME, { keyPath: 'id' });\r\n      }\r\n    },\r\n  });\r\n}\r\n\r\nexport async function saveCoffeeBeans(beans) {\r\n  const db = await initDB();\r\n  const tx = db.transaction(STORE_NAME, 'readwrite');\r\n  await Promise.all(beans.map((bean) => tx.store.put(bean)));\r\n  await tx.done;\r\n}\r\n\r\nexport async function getCachedCoffeeBeans() {\r\n  const db = await initDB();\r\n  return db.getAll(STORE_NAME);\r\n}\r\n"],"mappings":"AAAA;AACA,SAASA,MAAM,QAAQ,KAAK;AAE5B,MAAMC,OAAO,GAAG,aAAa;AAC7B,MAAMC,UAAU,GAAG,CAAC;AACpB,MAAMC,UAAU,GAAG,aAAa;AAEhC,OAAO,eAAeC,MAAMA,CAAA,EAAG;EAC7B,OAAOJ,MAAM,CAACC,OAAO,EAAEC,UAAU,EAAE;IACjCG,OAAOA,CAACC,EAAE,EAAE;MACV,IAAI,CAACA,EAAE,CAACC,gBAAgB,CAACC,QAAQ,CAACL,UAAU,CAAC,EAAE;QAC7CG,EAAE,CAACG,iBAAiB,CAACN,UAAU,EAAE;UAAEO,OAAO,EAAE;QAAK,CAAC,CAAC;MACrD;IACF;EACF,CAAC,CAAC;AACJ;AAEA,OAAO,eAAeC,eAAeA,CAACC,KAAK,EAAE;EAC3C,MAAMN,EAAE,GAAG,MAAMF,MAAM,CAAC,CAAC;EACzB,MAAMS,EAAE,GAAGP,EAAE,CAACQ,WAAW,CAACX,UAAU,EAAE,WAAW,CAAC;EAClD,MAAMY,OAAO,CAACC,GAAG,CAACJ,KAAK,CAACK,GAAG,CAAEC,IAAI,IAAKL,EAAE,CAACM,KAAK,CAACC,GAAG,CAACF,IAAI,CAAC,CAAC,CAAC;EAC1D,MAAML,EAAE,CAACQ,IAAI;AACf;AAEA,OAAO,eAAeC,oBAAoBA,CAAA,EAAG;EAC3C,MAAMhB,EAAE,GAAG,MAAMF,MAAM,CAAC,CAAC;EACzB,OAAOE,EAAE,CAACiB,MAAM,CAACpB,UAAU,CAAC;AAC9B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}